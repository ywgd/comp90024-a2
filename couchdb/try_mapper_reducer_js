# mapper: DONE
function (doc) {
  var words = doc.splitwords.split(" ");
  for (var word of words) {
    if (word.trim().length !== 0) {
      emit(word, 1)
    }
  }
}


# reducer: HAVEN'T FINISHED
function (keys, values, rereduce) {
  var results = {'covid':0, 'death':0, 'unemployment':0, 'health':0, 'income':0}
  var covid_matched = false
  var death_matched = false
  var unemployment_matched = false
  var health_matched = false
  var income_matched = false
  if (rereduce) {
    for (var i = 0; i < values.length; i++) {
      if (keys[i].includs("covid") || keys[i].includs("covid")) {
        results.covid += values[i].sum;
      }
    }
    
    return sum(values);
  } else {
    return values.length;
  }
}
